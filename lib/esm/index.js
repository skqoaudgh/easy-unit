var t;function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function n(t,e,r){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,r)}function i(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,a(t,e,"get"))}function o(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,a(t,e,"set"),r),r}function a(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,u=[],s=!0,f=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);s=!0);}catch(t){f=!0,i=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f(t,e,r){return(e=l(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t){var r=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!==e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===e(r)?r:String(r)}var c="weight",p="distance",h="temperature",m="area",y=(f(t={},"time",{ms:.001,s:1,m:60,h:3600,d:86400}),f(t,c,{mg:.001,g:1,kg:1e3,t:1e6,kt:1e9}),f(t,p,{mm:.1,cm:1,m:100,km:1e5,in:2.54,ft:30.48,yd:91.44,mile:160934.4}),f(t,m,{"m^2":1,a:100,ha:1e4}),t),v=f({},h,{C:function(t){return(Number(t)-32)/1.8},F:function(t){return 1.8*Number(t)+32}}),d=function(t,e){if("string"!=typeof t||"string"!=typeof e)throw new Error("parameter expected a string");for(var r=0,n=Object.entries(y);r<n.length;r++){var i=u(n[r],2),o=i[0],a=i[1],s=Object.keys(a);if(s.includes(t)&&s.includes(e))return o}for(var f=0,l=Object.entries(v);f<l.length;f++){var c=u(l[f],2),p=c[0],h=c[1],m=Object.keys(h);if(m.includes(t)&&m.includes(e))return p}return null},b=function(t){if("string"!=typeof t)throw new Error("parameter expected a string");var e=t.replace(/(-|[0-9]|\.|\,)+([\S]+)?/,"$2").trim();return!e||/[^\^]\d/.test(e)?null:e},g=function(t){var e=t.system,r=t.base,n=t.from,i=t.to;return function(t){return Object.keys(y).includes(t)}(e)?function(t){var e=t.system,r=t.base,n=t.from,i=t.to;return r*(y[e][n]/y[e][i])}({system:e,base:r,from:n,to:i}):function(t){var e=t.system,r=t.base,n=t.from,i=t.to,o=n!==i?v[e][i]:function(t){return t};return o(r)}({system:e,base:r,from:n,to:i})},w=new WeakMap,k=new WeakMap,E=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n(this,w,{writable:!0,value:0}),n(this,k,{writable:!0,value:null}),o(this,k,b(e)||r),o(this,w,parseFloat(String(e)))}var e,a,u;return e=t,a=[{key:"unit",get:function(){return i(this,k)},set:function(t){if("string"!=typeof t)throw new Error("parameter unit expected a string");return o(this,k,t),t}},{key:"getUnit",value:function(){return i(this,k)}},{key:"setUnit",value:function(t){if("string"!=typeof t)throw new Error("parameter unit expected a string");return o(this,k,t),t}},{key:"base",get:function(){return i(this,w)},set:function(t){if("number"!=typeof t)throw new Error("parameter base expected a string");return o(this,w,t),t}},{key:"getBase",value:function(){return i(this,w)}},{key:"setBase",value:function(t){if("number"!=typeof t)throw new Error("parameter base expected a string");return o(this,w,t),t}},{key:"set",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o(this,k,b(t)||e),o(this,w,parseFloat(String(t))),"".concat(i(this,k)).concat(i(this,w))}},{key:"isValid",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e&&"string"!=typeof e)throw new Error("parameter unit expected a string");var e=b(t)||"";return e?!!d(i(this,k),e):function(t){return!!Object.values(y).some((function(e){return Object.keys(e).includes(t)}))||Object.values(v).some((function(e){return Object.keys(e).includes(t)}))}(i(this,k))}},{key:"to",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.digit,n=void 0===r?null:r,a=e.printUnit,u=void 0===a||a;if("string"!=typeof t)throw new Error("parameter unit expected a string");var s=d(i(this,k),t);if(!s)throw new Error("parameter expected a same system with base unit");var f=g({system:s,base:i(this,w),from:i(this,k),to:t});return o(this,w,f),o(this,k,t),this.toString({digit:n,printUnit:u})}},{key:"add",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.digit,n=void 0===r?null:r,a=e.printUnit,u=void 0===a||a;if("string"!=typeof t)throw new Error("parameter printUnit expected a string");var s=b(t)||i(this,k),f=d(i(this,k),s);if(!f)throw new Error("parameter expected a same system with base unit");var l=g({system:f,base:parseFloat(t),from:s,to:i(this,k)}),c=i(this,w)+parseFloat(l);return o(this,w,c),this.toString({digit:n,printUnit:u})}},{key:"subtract",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.digit,n=void 0===r?null:r,a=e.printUnit,u=void 0===a||a;if("string"!=typeof t)throw new Error("parameter printUnit expected a string");var s=b(t)||i(this,k),f=d(i(this,k),s);if(!f)throw new Error("parameter expected a same system with base unit");var l=g({system:f,base:parseFloat(t),from:s,to:i(this,k)}),c=i(this,w)-parseFloat(l);return o(this,w,c),this.toString({digit:n,printUnit:u})}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.digit,r=void 0===e?null:e,n=t.printUnit,o=void 0===n||n;if(r&&"number"!=typeof r)throw new Error("parameter digit expected a number");if(0===r||r>100)throw new Error("parameter digit expected greater than 0 and less than 100");if("boolean"!=typeof o)throw new Error("parameter printUnit expected a boolean");var a=r?Number(i(this,w)).toFixed(r):i(this,w);return o?"".concat(a).concat(i(this,k)):Number(a)}}],a&&r(e.prototype,a),u&&r(e,u),Object.defineProperty(e,"prototype",{writable:!1}),t}();export{E as default};
